<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interaktivní mapa budovy</title>
    <style>
        /* Kontejner pro SVG */
        #projectsvg { 
            position: relative;
            width: 100%; 
            height: 0;
            padding-bottom: 177.78%; /* Poměr stran pro výšku 1920px a šířku 1080px */
            vertical-align: middle; 
            margin: 0; 
            overflow: hidden; 
        }

        /* SVG pro pozadí */
        #projectsvg svg { 
            display: inline-block;
            position: absolute; 
            top: 0; 
            left: 0; 
            width: 100%;
            height: 100%;
        }

        /* Inicialní stav interaktivních oblastí */
        .hover_group {
            opacity: 1;
            transition: opacity 0.3s ease-in-out;
        }

        /* Styly pro označení oblastí */
        .zone {
            fill: rgba(255, 165, 0, 0.6); /* Oranžová barva */
            cursor: pointer;
            transition: fill 0.3s ease;
        }

        /* Ztmavení zóny při najetí */
        .zone:hover {
            fill: rgba(255, 165, 0, 0.8); /* Ztmavení při najetí */
        }

        /* Styl pro texty v oblastech */
        text {
            fill: white;
            pointer-events: none;
        }

        .title {
            font-size: 20px;
            font-weight: bold;
        }

        .description {
            font-size: 14px;
            font-weight: normal;
        }

        /* Stylování vyhledávací lišty */
        .search-bar {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: white;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            z-index: 10;
        }

        /* Zvýraznění vybrané zóny */
        .highlight {
            fill: rgba(255, 0, 0, 0.3);
            border: 2px solid red;
        }
    </style>
</head>
<body>

    <div class="search-bar">
        <label for="zoneSelect">Vyberte zónu:</label>
        <select id="zoneSelect">
            <option value="">-- Vyberte zónu --</option>
            <!-- Dynamicky generované možnosti -->
        </select>
    </div>

<figure id="projectsvg">
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1080 1920" preserveAspectRatio="xMinYMin meet">
        <image width="1080" height="1920" xlink:href="mapa.png" />
    </svg>
</figure>

<div id="coordinates" style="padding: 10px; background-color: #f0f0f0; margin-top: 20px;"></div>

<script>
    const zones = [
    { x: 850, y: 897, width: 230, height: 50, title: "BI", description: "Prezentace biologického kroužku", link: "#" },
    { x: 170, y: 900, width: 170, height: 50, title: "ZSV", description: "Neurovědecká laboratoř", link: "#" },
    { x: 143, y: 70, width: 230, height: 50, title: "BI", description: "Fantastická zvířata", link: "#" },
    { x: 170, y: 845, width: 230, height: 50, title: "ZSV", description: "Vynálezy a současný svět", link: "#" },
    { x: 725.5, y: 1594, width: 300, height: 50, title: "TV", description: "Biomechanika ve sportu", link: "#" },
    { x: 789.5, y: 1360, width: 230, height: 50, title: "FY", description: "Chladniho obrazce", link: "#" },
    { x: 666.5, y: 1300, width: 330, height: 50, title: "FY", description: "Experimenty barona Prášila", link: "#" },
    { x: 143, y: 15, width: 230, height: 50, title: "FY", description: "Čidla Vernier", link: "#" },
    { x: 830, y: 60, width: 230, height: 50, title: "HV", description: "Hudební aktivity", link: "#" },
    { x: 681.5, y: 890.5, width: 110, height: 50, title: "NJ", description: "Jazykové úkoly", link: "#" },
    { x: 700, y: 5, width: 230, height: 50, title: "MAT", description: "Matyáš Sandorf", link: "#" },
    { x: 423.5, y: 835, width: 230, height: 50, title: "FJ", description: "Malý princ", link: "#" },
    { x: 522.5, y: 892, width: 135, height: 50, title: "AJ", description: "Kvízy o vynálezcích", link: "#" },
    { x: 143, y: 1110, width: 230, height: 50, title: "IT", description: "Microbit a 3D tisk", link: "#" },
    { x: 143, y: 1190, width: 230, height: 50, title: "IT", description: "Drony", link: "#" },
    { x: 143, y: 1270, width: 230, height: 50, title: "RJ", description: "Harry Potter", link: "#" },
    { x: 143, y: 1350, width: 230, height: 50, title: "CH", description: "Barevná chemie", link: "#" },
    { x: 143, y: 1430, width: 230, height: 50, title: "CH", description: "Fluorescence", link: "#" },
    { x: 143, y: 1510, width: 230, height: 50, title: "ČJ", description: "Filmové adaptace", link: "#" },
    { x: 143, y: 1590, width: 230, height: 50, title: "De", description: "Výstavka verneovek", link: "#" },
    { x: 143, y: 1670, width: 230, height: 50, title: "AJ/ZE", description: "Gymnázium na cestách", link: "#" },
    { x: 143, y: 1750, width: 230, height: 50, title: "VV", description: "Karel Zeman", link: "#" },
    { x: 143, y: 1830, width: 230, height: 50, title: "Bistro", description: "Francouzské bistro", link: "#" },
    { x: 143, y: 1910, width: 230, height: 50, title: "Škola", description: "Prezentace školy", link: "#" },
    { x: 143, y: 1990, width: 230, height: 50, title: "Kavárna", description: "Kavárna", link: "#" },
    { x: 143, y: 2070, width: 230, height: 50, title: "Přijímačky", description: "Přijímačky nanečisto", link: "#" },
    { x: 143, y: 2150, width: 230, height: 50, title: "Sbor", description: "Pěvecký sbor", link: "#" }
];

    const svgElement = document.querySelector('svg');
    const coordinatesDiv = document.getElementById("coordinates");

    // Funkce pro logování souřadnic
    svgElement.addEventListener('click', function(event) {
        const mouseX = event.offsetX;
        const mouseY = event.offsetY;
        
        coordinatesDiv.innerHTML = `Souřadnice myši: X: ${mouseX}, Y: ${mouseY}`;
        
        const newZone = {
            x: mouseX * 1.5 + 50,
            y: mouseY * 1.5 + 100,
            width: 230,
            height: 50,
            title: "New Zone",
            description: "Nová zóna",
            link: "#"
        };

        zones.push(newZone);
        updateZones();
    });

    // Inicializace vyhledávací lišty
    const zoneSelect = document.getElementById('zoneSelect');
    zones.forEach((zone, index) => {
        const option = document.createElement('option');
        option.value = index;
        option.textContent = `${zone.title} - ${zone.description}`;
        zoneSelect.appendChild(option);
    });

    function updateZones() {
        svgElement.innerHTML = '<image width="1080" height="1920" xlink:href="mapa.png" />';
        zones.forEach((zone, index) => {
            const group = document.createElementNS("http://www.w3.org/2000/svg", "g");
            group.classList.add("hover_group");

            const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
            rect.classList.add("zone");
            rect.setAttribute("x", zone.x);
            rect.setAttribute("y", zone.y);
            rect.setAttribute("width", zone.width);
            rect.setAttribute("height", zone.height);
            rect.setAttribute("data-index", index);

            const titleText = document.createElementNS("http://www.w3.org/2000/svg", "text");
            titleText.classList.add("title");
            titleText.setAttribute("x", zone.x + zone.width * 0.1);
            titleText.setAttribute("y", zone.y + 20);
            titleText.textContent = zone.title;

            const descriptionText = document.createElementNS("http://www.w3.org/2000/svg", "text");
            descriptionText.classList.add("description");
            descriptionText.setAttribute("x", zone.x + zone.width * 0.1);
            descriptionText.setAttribute("y", zone.y + 40);
            descriptionText.textContent = zone.description;

            group.appendChild(rect);
            group.appendChild(titleText);
            group.appendChild(descriptionText);

            svgElement.appendChild(group);
        });
    }

    updateZones();

    function highlightZone(index) {
        document.querySelectorAll('.zone').forEach(zone => zone.classList.remove('highlight'));
        const selectedZone = document.querySelector(`.zone[data-index="${index}"]`);
        if (selectedZone) {
            selectedZone.classList.add('highlight');
            selectedZone.scrollIntoView({ behavior: "smooth", block: "center", inline: "center" });
        }
    }

    zoneSelect.addEventListener('change', (event) => {
        const selectedIndex = event.target.value;
        if (selectedIndex) {
            highlightZone(selectedIndex);
        }
    });
</script>

</body>
</html>
